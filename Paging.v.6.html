<html>

<head>
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<link rel="stylesheet" href="https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css" />

<script>
       var pagingModel = {
            TotalCount: 0,
            TotalPage: 0,
            PageNo: 1,
            PageSize: 10,
            MethodName:"",
            current: {PageNo:1, StartNo: 1, EndNo: 10,Previous:0,Next:2,RecordsFrom:1,RecordsTo:10 }
        };
        BindPreviousUI=function(){
            if(pagingModel.current.PageNo==1)
           {
            return`<li class="page-item"><a class="page-link" title="First"  data-page="${pagingModel.current.Previous}">First</a></li>
            <li class="page-item"><a class="page-link" title="Previous"  data-page="${pagingModel.current.Previous}" >Previous</a></li>`;
                
           }
           else{
            return `<li class="page-item"><a class="page-link" title="First"  data-page="1" onclick="${pagingModel.MethodName}(1);">First</a></li>
            <li class="page-item"><a class="page-link" title="Previous"  data-page="${pagingModel.current.Previous}" onclick="${pagingModel.MethodName}(${pagingModel.current.Previous});">Previous</a></li>`;
            
           }
        };
        BindPageingUI=function(){
            var pagingUI="";
            for (let index =  pagingModel.current.StartNo; index <=  pagingModel.current.EndNo; index++) {
                pagingUI +=`<li  onclick="${pagingModel.MethodName}(${index})" class="page-item ${index == pagingModel.current.PageNo ? "active" : ""}" ><a class="page-link" data-page="${index}" title="${index}">${index}</a></li>`;
            }
            return pagingUI;
        };
        BindNextUI=function(){
            if(pagingModel.PageNo==pagingModel.TotalPage)
            {
                return`<li class="page-item"><a class="page-link" title="Next"  data-page="${pagingModel.current.Next}" >Next</a></li>
            <li class="page-item"><a class="page-link" title="Last" data-page="${pagingModel.TotalPage}" >Last</a></li>`;
            }
            else{
                return`<li class="page-item"><a class="page-link"  title="Next"  data-page="${pagingModel.current.Next}" onclick="${pagingModel.MethodName}(${pagingModel.current.Next});" >Next</a></li>
            <li class="page-item"><a class="page-link"  title="Last" data-page="${pagingModel.TotalPage}" onclick="${pagingModel.MethodName}(${pagingModel.TotalPage});">Last</a></li>`;
            }
        };
        BindRecordInfoUI=function(){
            var msg=`Displaying ${pagingModel.current.RecordsFrom} to ${pagingModel.current.RecordsTo} of ${pagingModel.TotalCount} records`;
            return`<li class="page-item"><a title="${msg}" class="page-link">${msg}</a></li>`;
        };
        /*
        Purpose : Init the Paging UI
        Parameters :  PageNo,PageSize,TotalCount,MethodName
        Note : 1. This script has been tested for 10 records per page (PageSize=10).
               2. Method which user want to bind should be initialized first into the code, then use.
               3. For calling your custom ajax method / API, You must bind the data table according the result of your  data table and after that binding call the methoda like this.
                  BindPagingModel(1, 10, 55,"GotoPage")
        */
        BindPagingModel = function (PageNo, PageSize, TotalCount,MethodName) {
            var offsetFrom=((PageNo-1)*10);
            pagingModel.MethodName=MethodName;
            var recordsFrom=offsetFrom+1;
            var recordsTo=PageNo*PageSize;
            if(recordsTo>TotalCount)
            {
                recordsTo=TotalCount;
            }
            var TotalPage = parseInt(TotalCount / PageSize);
          
            if (TotalCount % PageSize > 0) {
                TotalPage = parseInt(TotalCount / PageSize)+1;
            }
            pagingModel.TotalPage=TotalPage;
            pagingModel.current.PageNo=PageNo;
            pagingModel.TotalCount = TotalCount;
            pagingModel.PageSize = PageSize;
            pagingModel.current.StartNo=1;
            if(PageNo>1)
            {
               
                pagingModel.current.EndNo++;
              
                if(pagingModel.current.EndNo>=TotalPage || PageNo==TotalPage)
                { 
                    pagingModel.current.EndNo=TotalPage;
                    if(PageNo==TotalPage)
                    {
                        pagingModel.PageNo=TotalPage-(PageSize-1)>1?TotalPage-(PageSize-1):1;
                    }
                }
               
                if(pagingModel.current.EndNo-PageNo==(PageSize-1))
                {
                    pagingModel.current.StartNo=PageNo;
                    pagingModel.PageNo = PageNo;
                }
                else{
                   
                    pagingModel.current.StartNo=pagingModel.PageNo;
                }
              
            }
            else{
                pagingModel.current.StartNo=1;
                pagingModel.PageNo=PageNo;
                if(PageSize<TotalPage)
                {
                    pagingModel.current.EndNo=PageSize;
                }
                else{
                    pagingModel.current.EndNo=TotalPage; 
                }
            }
        
       

           var prePageNo=(PageNo>1?PageNo - 1:1);
           var nextPageNo=(PageNo<TotalPage?PageNo + 1:1);
           pagingModel.current.Previous=prePageNo;
           pagingModel.current.Next=nextPageNo;
           pagingModel.current.RecordsFrom=recordsFrom;
           pagingModel.current.RecordsTo=recordsTo;
           
            var bindPaging = `<section class="section-preview"><nav class="Page navigation example">
            <ul class="pagination">`;
           //Previous Record Navigation
           bindPaging+=BindPreviousUI();
            //Pagination Navigation
           bindPaging+=BindPageingUI();
            //Next Record Navigation
           bindPaging+=BindNextUI();
           //Displaying Records information 
           bindPaging+=BindRecordInfoUI();
           bindPaging += `</ul>`;

            bindPaging += `</nav></section>`;
            $('#paging').html(bindPaging);
            
        };

    </script>
</head>

<body>
  
        <div class="m_datatable m-datatable m-datatable--default m-datatable--loaded"   id="paging"></div>
            
        <script>

            BindPagingModel(1, 10, 55,"GotoPage")
            GotoPage = function (PageNo) {
                BindPagingModel(PageNo, 10, 55,"GotoPage");
            }
        </script>
</body>

</html>